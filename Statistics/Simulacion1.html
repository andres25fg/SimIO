<!DOCTYPE html>
<html lang="es">
<link rel="stylesheet" type="text/css" href="../style.css">

<body>

<div class="container">

    <header>
        <h1>Estad&iacutesticas para la Simulaci&oacuten1</h1>

    </header>

    <script type="text/javascript">
  window.onload = function () {
    var chart = new CanvasJS.Chart("chartContainer",
    {

      title:{
        text: "Tiempo promedio por tipo de sentencia"
      },
      animationEnabled: true,
      axisY: {

        title: "Segundos(s)"
      },
      legend: {
        verticalAlign: "bottom",
        horizontalAlign: "center"
      },
      theme: "theme2",
      data: [

      {
        type: "column",
        showInLegend: true,
        legendMarkerColor: "grey",
        legendText: "s = one second",
        dataPoints: [
        {y: 12.395, label: "DDL"},
        {y: 10.191,  label: "UPDATE" },
        {y: 10.471,  label: "JOIN"},
        {y: 12.505,  label: "SELECT"},
       ]
      }
      ]
    });

    var chart2 = new CanvasJS.Chart("chartContainer2",
	{
		title:{
			text: "Solicitudes recibidas"
		},
                animationEnabled: true,
		legend:{
			verticalAlign: "center",
			horizontalAlign: "left",
			fontSize: 20,
			fontFamily: "Helvetica"
		},
		theme: "theme2",
		data: [
		{
			type: "pie",
			indexLabelFontFamily: "Garamond",
			indexLabelFontSize: 20,
			indexLabel: "{label} {y}",
			startAngle:-20,
			showInLegend: true,
			toolTipContent:"{legendText} {y}",
			dataPoints: [
                {  y: 6, legendText:"Rechazadas" , label: "Rechazadas"},
				{  y: 455, legendText:"Procesadas" , label: "Procesadas"},
				{  y: 108, legendText:"Timeout" , label: "Timeout"}
			]
		}
		]
	});

	var chart3 = new CanvasJS.Chart("chartContainer3",
		{
			theme: "theme3",
                        animationEnabled: true,
			title:{
				text: "Tiempo ocioso por m&oacutedulo",
				fontSize: 30
			},
			toolTip: {
				shared: true
			},
			axisY: {
				title: "Seconds(s)"
			},

			data: [

			{
				type: "column",

				legendText: "Ocioso",
				showInLegend: true,
				dataPoints:[
				{label: "Administrador de clientes", y: 613.517},
				{label: "Administrador de Procesos", y: 729.473},
				{label: "Ejecutor de sentencias", y: 927.485},
				{label: "Procesador de consultas", y: 539.24},
				{label: "Transacciones", y: 744.59},


				]
			}

			],
          legend:{
            cursor:"pointer",
            itemclick: function(e){
              if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
              	e.dataSeries.visible = false;
              }
              else {
                e.dataSeries.visible = true;
              }
            	chart3.render();
            }
          },
        });

    chart3.render();

	chart2.render();

    chart.render();
  }
  </script>
    <script type="text/javascript" src="canvasjs.min.js"></script>
    </head>
    <br>


    <article>
        <h1>Par&aacutemetros de la simulaci&oacuten</h1>
        <ul style="list-style-type:square">
            <li>Tiempo total en segundos para correr cada vez la simulaci&oacuten (M&aacuteximo de tiempo): 1000</li>
            <li>n&uacutemero k de conexiones concurrentes que puede manejar el sistema: 15</li>
            <li>n&uacutemero n de procesos disponibles para el procesamiento de consultas concurrentes que puede manejar
                el sistema: 3</li>
            <li>El n&uacutemero p de procesos disponibles para la ejecuci&oacuten de transacciones: 2</li>
            <li>El n&uacutemero m procesos disponibles para ejecutar consultas: 1</li>
            <li>La cantidad t de segundos de timeout de las conexiones: 15</li>
            <li>Segundos modo lento: 0</li>
        </ul>
    </article>

    <article>
        <h1>Estad&iacutesticas</h1>
        <ul style="list-style-type:square">

            <li>N&uacutemero de conexiones: 577</li>
            <li>Conexiones atendidas: 455</li>
            <li>Conexiones que hicieron timeout: 108</li>
            <li>N&uacutemero de conexiones descartadas por el servidor: 6</li>

            <li>Tama&nacuteo promedio de la cola en Administrador de clientes: 0.0</li>
            <li>Tama&nacuteo promedio de la cola en Administrador de procesos: 2.303</li>
            <li>Tama&nacuteo promedio de la cola en Ejecutor de sentencias: 0.522</li>
            <li>Tama&nacuteo promedio de la cola en Procesador de consultas: 0.315</li>
            <li>Tama&nacuteo promedio de la cola en Transacciones: 1.119</li>

            <li>Tiempo promedio de vida de una conexi&oacuten: 0.0</li>
        </ul>>
    </article>


    <div id="chartContainer" style="height: 300px; width: 70%; margin: 0 auto;">
    </div>
    <br> </br>
    <div id="chartContainer2" style="height: 300px; width: 70%; margin: 0 auto;">
    </div>
    <br> </br>
    <div id="chartContainer3" style="height: 300px; width: 70%; margin: 0 auto;">
    </div>
    <br> </br>

    <h1 align="center">Tabla de estad&iacutesticas Adminisistrador cientes </h1>
    <table>
        <tr>
            <th>Atributo</th>
            <th>Valor</th>
        </tr>

        <tr>
            <td>Estabilidad (&lambda;/&mu;)</td>
            <td>0.001</td>
        </tr>
        <tr>
            <td>&lambda;</td>
            <td>0.571</td>
        </tr>
        <tr>
            <td>&mu;</td>
            <td>33.333</td>
        </tr>
        <tr>
            <td>&rho;</td>
            <td>0.001</td>
        </tr>
        <tr>
            <td>L</td>
            <td>0.017</td>
        </tr>
        <tr>
            <td>L<sub>s</sub></td>
            <td>0.017</td>
        </tr>
        <tr>
            <td>L<sub>q</sub></td>
            <td>0.0</td>
        </tr>
        <tr>
            <td>W</td>
            <td>0.03</td>
        </tr>
        <tr>
            <td>W<sub>q</sub></td>
            <td>0.0</td>
        </tr>

        <tr>
            <td>W<sub>s</sub></td>
            <td>0.03</td>
        </tr>
    </table>


    <br> </br>
    <h1 align="center">Tabla de estad&iacutesticas Adminisistrador de Procesos </h1>
    <table>
        <tr>
            <th>Atributo</th>
            <th>Valor</th>
        </tr>

        <tr>
            <td>Estabilidad (&lambda;/&mu;)</td>
            <td>0.852</td>
        </tr>
        <tr>
            <td>&lambda;</td>
            <td>0.569</td>
        </tr>
        <tr>
            <td>&mu;</td>
            <td>0.668</td>
        </tr>
        <tr>
            <td>&rho;</td>
            <td>0.852</td>
        </tr>
        <tr>
            <td>L</td>
            <td>3.155</td>
        </tr>
        <tr>
            <td>L<sub>s</sub></td>
            <td>0.851</td>
        </tr>
        <tr>
            <td>L<sub>q</sub></td>
            <td>2.303</td>
        </tr>
        <tr>
            <td>W</td>
            <td>5.544</td>
        </tr>
        <tr>
            <td>W<sub>q</sub></td>
            <td>4.048</td>
        </tr>

        <tr>
            <td>W<sub>s</sub></td>
            <td>1.496</td>
        </tr>
    </table>

    <br> </br>
    <h1 align="center">Tabla de estad&iacutesticas ejecutor de sentencias </h1>
    <table>
        <tr>
            <th>Atributo</th>
            <th>Valor</th>
        </tr>

        <tr>
            <td>Estabilidad (&lambda;/&mu;)</td>
            <td>0.346</td>
        </tr>
        <tr>
            <td>&lambda;</td>
            <td>0.492</td>
        </tr>
        <tr>
            <td>&mu;</td>
            <td>1.42</td>
        </tr>
        <tr>
            <td>&rho;</td>
            <td>0.346</td>
        </tr>
        <tr>
            <td>L</td>
            <td>0.868</td>
        </tr>
        <tr>
            <td>L<sub>s</sub></td>
            <td>0.346</td>
        </tr>
        <tr>
            <td>L<sub>q</sub></td>
            <td>0.522</td>
        </tr>
        <tr>
            <td>W</td>
            <td>1.765</td>
        </tr>
        <tr>
            <td>W<sub>q</sub></td>
            <td>1.061</td>
        </tr>

        <tr>
            <td>W<sub>s</sub></td>
            <td>0.704</td>
        </tr>
    </table>

    <br> </br>
    <h1 align="center">Tabla de estad&iacutesticas procesador de cconsultas </h1>
    <table>
        <tr>
            <th>Atributo</th>
            <th>Valor</th>
        </tr>

        <tr>
            <td>Estabilidad (&lambda;/&mu;)</td>
            <td>0.604</td>
        </tr>
        <tr>
            <td>&lambda;</td>
            <td>0.562</td>
        </tr>
        <tr>
            <td>&mu;</td>
            <td>0.31</td>
        </tr>
        <tr>
            <td>&rho;</td>
            <td>0.604</td>
        </tr>
        <tr>
            <td>L</td>
            <td>2.127</td>
        </tr>
        <tr>
            <td>L<sub>s</sub></td>
            <td>1.812</td>
        </tr>
        <tr>
            <td>L<sub>q</sub></td>
            <td>0.315</td>
        </tr>
        <tr>
            <td>W</td>
            <td>3.785</td>
        </tr>
        <tr>
            <td>W<sub>q</sub></td>
            <td>0.561</td>
        </tr>

        <tr>
            <td>W<sub>s</sub></td>
            <td>3.224</td>
        </tr>
    </table>

    <br> </br>
    <h1 align="center">Tabla de estad&iacutesticas modulo de transacciones </h1>
    <table>
        <tr>
            <th>Atributo</th>
            <th>Valor</th>
        </tr>

        <tr>
            <td>Estabilidad (&lambda;/&mu;)</td>
            <td>0.44</td>
        </tr>
        <tr>
            <td>&lambda;</td>
            <td>0.542</td>
        </tr>
        <tr>
            <td>&mu;</td>
            <td>0.616</td>
        </tr>
        <tr>
            <td>&rho;</td>
            <td>0.44</td>
        </tr>
        <tr>
            <td>L</td>
            <td>1.998</td>
        </tr>
        <tr>
            <td>L<sub>s</sub></td>
            <td>0.88</td>
        </tr>
        <tr>
            <td>L<sub>q</sub></td>
            <td>1.119</td>
        </tr>
        <tr>
            <td>W</td>
            <td>3.687</td>
        </tr>
        <tr>
            <td>W<sub>q</sub></td>
            <td>2.064</td>
        </tr>

        <tr>
            <td>W<sub>s</sub></td>
            <td>1.623</td>
        </tr>
    </table>

</div>

<footer>
    <p>Kevin Mora, Felipe Rosabal, Andres Gonz%aacutelez</p>
    <p>Copyright &copy;UCR 2017</p>

</footer>
</body>
</html>